# docker-compose.override.yml - Production overrides for VPS-01
services:
  fiskai-db:
    environment:
      POSTGRES_USER: ${POSTGRES_USER:-fiskai}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-fiskai_secret_2025}
      POSTGRES_DB: ${POSTGRES_DB:-fiskai}

  fiskai-app:
    environment:
      - DATABASE_URL=postgresql://${POSTGRES_USER:-fiskai}:${POSTGRES_PASSWORD:-fiskai_secret_2025}@fiskai-db:5432/${POSTGRES_DB:-fiskai}?schema=public
      - NEXTAUTH_URL=${NEXTAUTH_URL:-https://erp.metrica.hr}
      - NEXTAUTH_SECRET=${NEXTAUTH_SECRET:-fiskai_auth_secret_change_in_production_2025}
      - NEXT_PUBLIC_APP_NAME=${NEXT_PUBLIC_APP_NAME:-FiskAI}
      - NEXT_PUBLIC_APP_URL=${NEXT_PUBLIC_APP_URL:-https://erp.metrica.hr}
      - EINVOICE_KEY_SECRET=${EINVOICE_KEY_SECRET:-fiskai_einvoice_secret_2025_change_me}
      - AUTH_TRUST_HOST=true
    ports:
      - "3002:3000"
